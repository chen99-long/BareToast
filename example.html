<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BareToast Script标签引入示例</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .demo-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        
        .demo-section h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        
        .btn-error {
            background-color: #dc3545;
            color: white;
        }
        
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        
        .btn-info {
            background-color: #17a2b8;
            color: white;
        }
        
        .btn-loading {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-clear {
            background-color: #343a40;
            color: white;
        }
        
        button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
        
        .code-block {
            background-color: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 4px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
        }
        
        .usage-info {
            background-color: #e7f3ff;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>🍞 BareToast Script标签引入示例</h1>
    
    <div class="usage-info">
        <h3>📖 使用方法</h3>
        <p>通过script标签引入BareToast后，可以通过全局变量 <code>BareToast</code> 访问toast功能：</p>
        <div class="code-block">
&lt;script src="./dist/index.umd.js"&gt;&lt;/script&gt;
&lt;script&gt;
    // 使用默认导出的toast对象
    BareToast.default.success('操作成功！');
    
    // 或者解构使用
    const { toast } = BareToast;
    toast.success('操作成功！');
&lt;/script&gt;
        </div>
    </div>
    
    <div class="demo-section">
        <h3>🎯 基础Toast演示</h3>
        <div class="button-group">
            <button class="btn-success" onclick="showSuccess()">成功提示</button>
            <button class="btn-error" onclick="showError()">错误提示</button>
            <button class="btn-warning" onclick="showWarning()">警告提示</button>
            <button class="btn-info" onclick="showInfo()">信息提示</button>
        </div>
    </div>
    
    <div class="demo-section">
        <h3>⏳ Loading演示</h3>
        <div class="button-group">
            <button class="btn-loading" onclick="showLoading()">显示Loading</button>
            <button class="btn-loading" onclick="showPromiseDemo()">Promise演示</button>
        </div>
    </div>
    
    <div class="demo-section">
        <h3>🧹 管理功能</h3>
        <div class="button-group">
            <button class="btn-clear" onclick="clearAll()">清除所有</button>
        </div>
    </div>
    
    <!-- 引入BareToast UMD版本 -->
    <script src="./dist/index.umd.js"></script>
    
    <script>
        // 检查BareToast是否正确加载
        console.log('BareToast对象:', window.BareToast);

        // 从全局BareToast对象中获取toast
        const { toast } = BareToast;
        
        function showSuccess() {
            toast.success('🎉 操作成功！这是一个成功提示');
        }
        
        function showError() {
            toast.error('❌ 操作失败！这是一个错误提示');
        }
        
        function showWarning() {
            toast.warning('⚠️ 注意！这是一个警告提示');
        }
        
        function showInfo() {
            toast.info('ℹ️ 提示信息：这是一个普通信息提示');
        }
        
        function showLoading() {
            const loadingId = toast.loading('正在处理中...');
            
            // 3秒后更新为成功状态
            setTimeout(() => {
                toast.update(loadingId, 'success', '处理完成！', 3000);
            }, 3000);
        }
        
        function showPromiseDemo() {
            // 模拟一个异步操作
            const mockAsyncOperation = () => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (Math.random() > 0.3) {
                            resolve('数据加载成功');
                        } else {
                            reject(new Error('网络连接失败'));
                        }
                    }, 2000);
                });
            };
            
            toast.promise(mockAsyncOperation(), {
                pending: '正在加载数据...',
                success: '数据加载完成！',
                error: '加载失败，请重试'
            });
        }
        
        function clearAll() {
            toast.clear();
        }
        
        // 页面加载完成后显示欢迎信息
        window.addEventListener('load', () => {
            setTimeout(() => {
                toast.info('👋 欢迎使用BareToast！点击上方按钮体验各种功能');
            }, 500);
        });
    </script>
</body>
</html>
